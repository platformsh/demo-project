{
  "test": false,
  "error": {
    "user": {
      "get_logs": "symfony upsun environment:log"
    }
  },
  "first_deploy": {
    "user": {
      "clone": "git clone git@github.com:platformsh/demo-project.git",
      "set_remote": "symfony upsun project:set-remote",
      "push": "symfony upsun push",
      "get_url": "symfony upsun url --primary"
    },
    "test": {
      "clone": "git clone -b $DEFAULT_BRANCH https://github.com/platformsh/demo-project.git $PROJECT_LOCALDIR",
      "push": "git push --force upsun $DEFAULT_BRANCH"
    }
  },
  "branch": {
    "user": {
      "branch": "symfony upsun branch staging --type staging",
      "get_url": "symfony upsun url --primary"
    },
    "test": {
      "branch": "symfony upsun branch $STAGING_BRANCH --type staging",
      "get_url": "symfony upsun url --primary"
    }
  },
  "redis": {
    "user": {
      "commit": "git commit -am \"Create a Redis service.\"",
      "push": "symfony upsun push"
    },
    "test": {
      "push": "git push --force upsun $STAGING_BRANCH"
    }
  },
  "merge_production": {
    "user": {
      "merge": "symfony upsun merge staging",
      "resources_set": "symfony upsun resources:set \\\n\t--count frontend:2 \\\n\t--size redis_service:0.5 \\\n\t--disk frontend:512 \\\n\t-e main",
      "get_url": "symfony upsun url --primary -e main"
    },
    "test": {
      "merge": "symfony upsun merge $STAGING_BRANCH",
      "resources_set": "symfony upsun resources:set \\\n\t--count frontend:2 \\\n\t--size redis_service:0.5 \\\n\t--disk frontend:512 \\\n\t-e $DEFAULT_BRANCH"
    }
  },
  "scale": {
    "user": {
      "resources_set": "symfony upsun resources:set \\\n\t--size redis_service:0.1 \\\n\t--disk frontend:512 \\\n\t-e main"
    },
    "test": {
      "resources_set": "symfony upsun resources:set \\\n\t--size redis_service:0.1 \\\n\t--disk frontend:512 \\\n\t-e $DEFAULT_BRANCH"
    }
  },
  "complete": {
    "user": {
      "delete_project": "symfony upsun project:delete"
    }
  }
}
